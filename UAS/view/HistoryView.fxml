<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="15" style="-fx-padding: 20; -fx-background-color: white;" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.HistoryController">
    
    <HBox alignment="CENTER_LEFT" spacing="20">
        <VBox>
            <Label text="Riwayat Pertandingan" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Label text="Klik baris tabel untuk melihat detail statistik pemain." style="-fx-text-fill: grey;"/>
        </VBox>
        <Region HBox.hgrow="ALWAYS"/>
        
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <Button text="ðŸ–¨ï¸ Export PDF" onAction="#handleExportPDF" style="-fx-base: #e67e22; -fx-text-fill: white; -fx-cursor: hand; -fx-font-weight: bold;"/>
            <Button text="ðŸ”„ Refresh" onAction="#loadHistory" style="-fx-base: #3498db; -fx-text-fill: white;"/>
        </HBox>
    </HBox>

    <TableView fx:id="tableHistory" prefHeight="250">
        <columns>
            <TableColumn fx:id="colId" text="ID" prefWidth="50" style="-fx-alignment: CENTER;"/>
            <TableColumn fx:id="colTournament" text="Nama Turnamen" prefWidth="150"/>
            <TableColumn fx:id="colRound" text="Babak" prefWidth="100" style="-fx-alignment: CENTER;"/>
            
            <TableColumn fx:id="colHome" text="Tim Home" prefWidth="120" style="-fx-font-weight: bold; -fx-alignment: CENTER-RIGHT;"/>
            <TableColumn fx:id="colScore" text="Skor" prefWidth="80" style="-fx-alignment: CENTER; -fx-font-weight: bold; -fx-text-fill: #2980b9;"/>
            <TableColumn fx:id="colAway" text="Tim Away" prefWidth="120" style="-fx-font-weight: bold; -fx-alignment: CENTER-LEFT;"/>
            
            <TableColumn fx:id="colTime" text="Waktu" prefWidth="120" style="-fx-alignment: CENTER;"/>
        </columns>
        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
    </TableView>

    <Separator/>
    
    <Label text="Detail Statistik Pemain (Box Score)" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2c3e50;"/>
    
    <SplitPane dividerPositions="0.5" VBox.vgrow="ALWAYS">
        <VBox>
            <Label fx:id="lblDetailHome" text="Statistik Home" style="-fx-padding: 8; -fx-background-color: #ecf0f1; -fx-font-weight: bold; -fx-text-fill: #2980b9; -fx-max-width: Infinity;"/>
            
            <TableView fx:id="tableHomeStats" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colHNum" text="#" prefWidth="40" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colHName" text="Nama Pemain" prefWidth="150"/>
                    <TableColumn fx:id="colHPoint" text="Poin" prefWidth="60" style="-fx-alignment: CENTER; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="colHFoul" text="Foul" prefWidth="60" style="-fx-alignment: CENTER;"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
            </TableView>
        </VBox>

        <VBox>
            <Label fx:id="lblDetailAway" text="Statistik Away" style="-fx-padding: 8; -fx-background-color: #ecf0f1; -fx-font-weight: bold; -fx-text-fill: #c0392b; -fx-max-width: Infinity;"/>
            
            <TableView fx:id="tableAwayStats" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colANum" text="#" prefWidth="40" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colAName" text="Nama Pemain" prefWidth="150"/>
                    <TableColumn fx:id="colAPoint" text="Poin" prefWidth="60" style="-fx-alignment: CENTER; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="colAFoul" text="Foul" prefWidth="60" style="-fx-alignment: CENTER;"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
            </TableView>
        </VBox>
    </SplitPane>

</VBox>