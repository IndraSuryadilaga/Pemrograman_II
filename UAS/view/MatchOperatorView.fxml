<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.MatchOperatorController">

    <BorderPane style="-fx-background-color: #ecf0f1;">
        
        <top>
            <VBox alignment="CENTER" spacing="10" style="-fx-background-color: #2c3e50; -fx-padding: 15;">
                <Label fx:id="lblTournamentName" text="Tournament Name" textFill="WHITE" />
                
                <HBox alignment="CENTER" spacing="50">
                    <VBox alignment="CENTER">
                        <Label fx:id="lblHomeName" style="-fx-font-size: 24px; -fx-font-weight: bold;" text="HOME" textFill="#3498db" />
                        <Label fx:id="lblHomeScore" style="-fx-font-size: 60px; -fx-font-weight: bold;" text="0" textFill="WHITE" />
                    </VBox>
                    
                    <VBox alignment="CENTER" spacing="5" style="-fx-background-color: black; -fx-padding: 8 32; -fx-border-color: #7f8c8d; -fx-border-width: 2;">
                        <Label fx:id="lblQuarter" style="-fx-font-size: 20px; -fx-font-weight: bold;" text="Q1" textFill="WHITE" />
                        <Label fx:id="lblTimer" text="10:00" textFill="#f1c40f">
                     <font>
                        <Font name="System Bold" size="48.0" />
                     </font></Label>
                        
                        <HBox alignment="CENTER" spacing="10" />
                    </VBox>
                    
                    <VBox alignment="CENTER">
                        <Label fx:id="lblAwayName" style="-fx-font-size: 24px; -fx-font-weight: bold;" text="AWAY" textFill="#e74c3c" />
                        <Label fx:id="lblAwayScore" style="-fx-font-size: 60px; -fx-font-weight: bold;" text="0" textFill="WHITE" />
                    </VBox>
                </HBox>
                
                <HBox alignment="CENTER" spacing="20">
                    <Button fx:id="btnBack" maxWidth="180.0" minWidth="170.0" onAction="#handleBack" style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;" text="BACK TO DASHBOARD" />
                    
                    <Button fx:id="btnTimerControl" minWidth="80.0" onAction="#handleTimerToggle" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;" text="â–¶ START" />
                    
                    <Button text="â© SKIP" onAction="#handleDebugSkip" style="-fx-background-color: #8e44ad; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;"/>
                    
                    <Button fx:id="btnNextQuarter" disable="true" minWidth="80.0" onAction="#handleNextQuarter" style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;" text="NEXT Q" />
                    <Button fx:id="btnFinish" disable="true" maxWidth="180.0" minWidth="170.0" onAction="#handleFinishMatch" style="-fx-background-color: #c0392b; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;" text="ðŸ FINISH GAME" />
                </HBox>
            </VBox>
        </top>

        <center>
            <HBox spacing="20" style="-fx-padding: 20;">
                <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 10; -fx-background-radius: 5;" HBox.hgrow="ALWAYS">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #3498db;" text="Pemain Home" />
                    <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS">
                         <FlowPane fx:id="fpHomePlayers" hgap="10" vgap="10" />
                    </ScrollPane>
                </VBox>

                <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 10; -fx-background-radius: 5;" HBox.hgrow="ALWAYS">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;" text="Pemain Away" />
                    <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS">
                         <FlowPane fx:id="fpAwayPlayers" hgap="10" vgap="10" />
                    </ScrollPane>
                </VBox>
            </HBox>
        </center>
    </BorderPane>

    <VBox fx:id="actionOverlay" alignment="CENTER" style="-fx-background-color: rgba(0,0,0,0.8);" visible="false">
        <VBox alignment="CENTER" spacing="20" style="-fx-background-color: white; -fx-padding: 30; -fx-background-radius: 10; -fx-max-width: 400;">
            
            <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Pilih Aksi Pemain" />
            <Label fx:id="lblSelectedPlayer" style="-fx-font-size: 14px; -fx-text-fill: grey;" text="Michael Jordan #23" />
            
            <Separator />
            <Label style="-fx-font-weight: bold;" text="Mencetak Skor (Score)" />
            <HBox alignment="CENTER" spacing="10">
                <Button fx:id="btnScore1" onAction="#handleActionScore1" style="-fx-base: #2ecc71; -fx-pref-width: 150;" text="+1 Poin" />
                <Button fx:id="btnScore2" onAction="#handleActionScore2" style="-fx-base: #27ae60; -fx-pref-width: 150;" text="+2 Poin" />
            </HBox>
            <Button fx:id="btnScore3" onAction="#handleActionScore3" style="-fx-base: #219150; -fx-pref-width: 310;" text="+3 Poin" />
            
            <Separator />
            
            <Label style="-fx-font-weight: bold;" text="Pelanggaran (Foul)" />
            <HBox alignment="CENTER" spacing="10">
                <Button onAction="#handleActionFoul" style="-fx-base: #e74c3c; -fx-pref-width: 150;" text="Personal Foul" />
            </HBox>

            <Separator />
            <Button onAction="#closeOverlay" style="-fx-base: #95a5a6; -fx-pref-width: 100;" text="BATAL" />
        </VBox>
    </VBox>

</StackPane>
